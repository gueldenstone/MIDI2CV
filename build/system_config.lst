ARM GAS  /var/folders/3v/0vdpwtnn553_pf4lcxv7_90h0000gn/T//cc0zR749.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"system_config.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.system_config,"ax",%progbits
  18              		.align	1
  19              		.global	system_config
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	system_config:
  27              	.LFB130:
  28              		.file 1 "src/system_config.c"
   1:src/system_config.c **** /*
   2:src/system_config.c ****  * system_init.c
   3:src/system_config.c ****  *
   4:src/system_config.c ****  *  Created on: 07.02.2020
   5:src/system_config.c ****  *      Author: lukas
   6:src/system_config.c ****  */
   7:src/system_config.c **** #include "stm32f3xx.h"
   8:src/system_config.c **** #include "system_init.h"
   9:src/system_config.c **** 
  10:src/system_config.c **** void system_config(void){
  29              		.loc 1 10 25 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33 0000 08B5     		push	{r3, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 3, -8
  37              		.cfi_offset 14, -4
  11:src/system_config.c **** 	/* PLL Config */
  12:src/system_config.c **** 	RCC->CR &= ~(RCC_CR_PLLON); 									// Deactivate PLL
  38              		.loc 1 12 2 view .LVU1
  39              		.loc 1 12 10 is_stmt 0 view .LVU2
  40 0002 214A     		ldr	r2, .L7
  41 0004 1368     		ldr	r3, [r2]
  42 0006 23F08073 		bic	r3, r3, #16777216
  43 000a 1360     		str	r3, [r2]
  13:src/system_config.c **** 	while(RCC->CR & RCC_CR_PLLRDY){}								// Wait for PLL to stop
  44              		.loc 1 13 2 is_stmt 1 view .LVU3
  45              	.L2:
ARM GAS  /var/folders/3v/0vdpwtnn553_pf4lcxv7_90h0000gn/T//cc0zR749.s 			page 2


  46              		.loc 1 13 33 discriminator 1 view .LVU4
  47              		.loc 1 13 7 discriminator 1 view .LVU5
  48              		.loc 1 13 11 is_stmt 0 discriminator 1 view .LVU6
  49 000c 1E4B     		ldr	r3, .L7
  50 000e 1B68     		ldr	r3, [r3]
  51              		.loc 1 13 7 discriminator 1 view .LVU7
  52 0010 13F0007F 		tst	r3, #33554432
  53 0014 FAD1     		bne	.L2
  14:src/system_config.c **** 	RCC->CR |= RCC_CR_HSEON;
  54              		.loc 1 14 2 is_stmt 1 view .LVU8
  55              		.loc 1 14 10 is_stmt 0 view .LVU9
  56 0016 1C4A     		ldr	r2, .L7
  57 0018 1368     		ldr	r3, [r2]
  58 001a 43F48033 		orr	r3, r3, #65536
  59 001e 1360     		str	r3, [r2]
  15:src/system_config.c **** 	while(!(RCC->CR & RCC_CR_HSERDY)){}								// check if HSE is ready
  60              		.loc 1 15 2 is_stmt 1 view .LVU10
  61              	.L3:
  62              		.loc 1 15 36 discriminator 1 view .LVU11
  63              		.loc 1 15 7 discriminator 1 view .LVU12
  64              		.loc 1 15 13 is_stmt 0 discriminator 1 view .LVU13
  65 0020 194B     		ldr	r3, .L7
  66 0022 1B68     		ldr	r3, [r3]
  67              		.loc 1 15 7 discriminator 1 view .LVU14
  68 0024 13F4003F 		tst	r3, #131072
  69 0028 FAD0     		beq	.L3
  16:src/system_config.c **** 	RCC->CFGR |= RCC_CFGR_PLLSRC_HSE_PREDIV | RCC_CFGR_PLLMUL9;		// Set PLL to input HSI/2, Multiplica
  70              		.loc 1 16 2 is_stmt 1 view .LVU15
  71              		.loc 1 16 12 is_stmt 0 view .LVU16
  72 002a 174B     		ldr	r3, .L7
  73 002c 5A68     		ldr	r2, [r3, #4]
  74 002e 42F4E812 		orr	r2, r2, #1900544
  75 0032 5A60     		str	r2, [r3, #4]
  17:src/system_config.c **** 	RCC->CR |= RCC_CR_PLLON; 										// Activate PLL
  76              		.loc 1 17 2 is_stmt 1 view .LVU17
  77              		.loc 1 17 10 is_stmt 0 view .LVU18
  78 0034 1A68     		ldr	r2, [r3]
  79 0036 42F08072 		orr	r2, r2, #16777216
  80 003a 1A60     		str	r2, [r3]
  18:src/system_config.c **** 	while(!(RCC->CR & RCC_CR_PLLRDY)); 								// Wait for PLL to lock
  81              		.loc 1 18 2 is_stmt 1 view .LVU19
  82              	.L4:
  83              		.loc 1 18 35 discriminator 1 view .LVU20
  84              		.loc 1 18 7 discriminator 1 view .LVU21
  85              		.loc 1 18 13 is_stmt 0 discriminator 1 view .LVU22
  86 003c 124B     		ldr	r3, .L7
  87 003e 1B68     		ldr	r3, [r3]
  88              		.loc 1 18 7 discriminator 1 view .LVU23
  89 0040 13F0007F 		tst	r3, #33554432
  90 0044 FAD0     		beq	.L4
  19:src/system_config.c **** 
  20:src/system_config.c **** 	/*FLASH wait states */
  21:src/system_config.c **** 	FLASH->ACR &= ~(FLASH_ACR_LATENCY_Msk);							// Reset Flash Wait states
  91              		.loc 1 21 2 is_stmt 1 view .LVU24
  92              		.loc 1 21 13 is_stmt 0 view .LVU25
  93 0046 114B     		ldr	r3, .L7+4
  94 0048 1A68     		ldr	r2, [r3]
ARM GAS  /var/folders/3v/0vdpwtnn553_pf4lcxv7_90h0000gn/T//cc0zR749.s 			page 3


  95 004a 22F00702 		bic	r2, r2, #7
  96 004e 1A60     		str	r2, [r3]
  22:src/system_config.c **** 	FLASH->ACR |= 0b010 << FLASH_ACR_LATENCY_Pos;					// Set Flash wait states to 2
  97              		.loc 1 22 2 is_stmt 1 view .LVU26
  98              		.loc 1 22 13 is_stmt 0 view .LVU27
  99 0050 1A68     		ldr	r2, [r3]
 100 0052 42F00202 		orr	r2, r2, #2
 101 0056 1A60     		str	r2, [r3]
  23:src/system_config.c **** 
  24:src/system_config.c **** 	/*SysClock anpassen */
  25:src/system_config.c **** 	RCC->CFGR |= RCC_CFGR_PPRE1_DIV2; 								// PreDiv for ABP1 /2 (ABP1 36MHz max)
 102              		.loc 1 25 2 is_stmt 1 view .LVU28
 103              		.loc 1 25 12 is_stmt 0 view .LVU29
 104 0058 A3F58053 		sub	r3, r3, #4096
 105 005c 5A68     		ldr	r2, [r3, #4]
 106 005e 42F48062 		orr	r2, r2, #1024
 107 0062 5A60     		str	r2, [r3, #4]
  26:src/system_config.c **** 	RCC->CFGR |= RCC_CFGR_SW_PLL;									// Set PLL as Sysclock
 108              		.loc 1 26 2 is_stmt 1 view .LVU30
 109              		.loc 1 26 12 is_stmt 0 view .LVU31
 110 0064 5A68     		ldr	r2, [r3, #4]
 111 0066 42F00202 		orr	r2, r2, #2
 112 006a 5A60     		str	r2, [r3, #4]
  27:src/system_config.c **** 	while ((RCC->CFGR & RCC_CFGR_SWS) != RCC_CFGR_SWS_PLL){} 		// Wait for switch to PLL as clock sour
 113              		.loc 1 27 2 is_stmt 1 view .LVU32
 114              	.L5:
 115              		.loc 1 27 57 discriminator 1 view .LVU33
 116              		.loc 1 27 8 discriminator 1 view .LVU34
 117              		.loc 1 27 13 is_stmt 0 discriminator 1 view .LVU35
 118 006c 064B     		ldr	r3, .L7
 119 006e 5B68     		ldr	r3, [r3, #4]
 120              		.loc 1 27 20 discriminator 1 view .LVU36
 121 0070 03F00C03 		and	r3, r3, #12
 122              		.loc 1 27 8 discriminator 1 view .LVU37
 123 0074 082B     		cmp	r3, #8
 124 0076 F9D1     		bne	.L5
  28:src/system_config.c **** 
  29:src/system_config.c ****   	SystemCoreClockUpdate();
 125              		.loc 1 29 4 is_stmt 1 view .LVU38
 126 0078 FFF7FEFF 		bl	SystemCoreClockUpdate
 127              	.LVL0:
  30:src/system_config.c **** 
  31:src/system_config.c ****   	RCC->APB2ENR |= RCC_APB2ENR_SYSCFGEN; //Clock to SYSCFG
 128              		.loc 1 31 4 view .LVU39
 129              		.loc 1 31 17 is_stmt 0 view .LVU40
 130 007c 024A     		ldr	r2, .L7
 131 007e 9369     		ldr	r3, [r2, #24]
 132 0080 43F00103 		orr	r3, r3, #1
 133 0084 9361     		str	r3, [r2, #24]
  32:src/system_config.c **** }
 134              		.loc 1 32 1 view .LVU41
 135 0086 08BD     		pop	{r3, pc}
 136              	.L8:
 137              		.align	2
 138              	.L7:
 139 0088 00100240 		.word	1073876992
 140 008c 00200240 		.word	1073881088
ARM GAS  /var/folders/3v/0vdpwtnn553_pf4lcxv7_90h0000gn/T//cc0zR749.s 			page 4


 141              		.cfi_endproc
 142              	.LFE130:
 144              		.text
 145              	.Letext0:
 146              		.file 2 "/usr/local/Caskroom/gcc-arm-embedded/9-2019-q4-major/gcc-arm-none-eabi-9-2019-q4-major/ar
 147              		.file 3 "/usr/local/Caskroom/gcc-arm-embedded/9-2019-q4-major/gcc-arm-none-eabi-9-2019-q4-major/ar
 148              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 149              		.file 5 "Drivers/CMSIS/Device/ST/STM32F3xx/Include/system_stm32f3xx.h"
 150              		.file 6 "Drivers/CMSIS/Device/ST/STM32F3xx/Include/stm32f303xc.h"
ARM GAS  /var/folders/3v/0vdpwtnn553_pf4lcxv7_90h0000gn/T//cc0zR749.s 			page 5


DEFINED SYMBOLS
                            *ABS*:0000000000000000 system_config.c
/var/folders/3v/0vdpwtnn553_pf4lcxv7_90h0000gn/T//cc0zR749.s:18     .text.system_config:0000000000000000 $t
/var/folders/3v/0vdpwtnn553_pf4lcxv7_90h0000gn/T//cc0zR749.s:26     .text.system_config:0000000000000000 system_config
/var/folders/3v/0vdpwtnn553_pf4lcxv7_90h0000gn/T//cc0zR749.s:139    .text.system_config:0000000000000088 $d

UNDEFINED SYMBOLS
SystemCoreClockUpdate
